!function(t,i){if("object"==typeof exports&&"object"==typeof module)module.exports=i();else if("function"==typeof define&&define.amd)define([],i);else{var s=i();for(var e in s)("object"==typeof exports?exports:t)[e]=s[e]}}(self,(function(){return(()=>{"use strict";var t={925:(t,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.dataToTermios=i.termiosToData=i.defaultTermios=i.Termios=i.VEOL2=i.VLNEXT=i.VWERASE=i.VDISCARD=i.VREPRINT=i.VEOL=i.VSUSP=i.VSTOP=i.VSTART=i.VSWTCH=i.VMIN=i.VTIME=i.VEOF=i.VKILL=i.VERASE=i.VQUIT=i.VINTR=i.IEXTEN=i.ECHOKE=i.ECHOPRT=i.ECHOCTL=i.NOFLSH=i.ECHONL=i.ECHOK=i.ECHOE=i.ECHO=i.ICANON=i.ISIG=i.XTABS=i.TABDLY=i.ONLRET=i.ONOCR=i.OCRNL=i.ONLCR=i.OLCUC=i.OPOST=i.IUTF8=i.IMAXBEL=i.IXANY=i.IXON=i.IUCLC=i.ICRNL=i.IGNCR=i.INLCR=i.ISTRIP=void 0,i.ISTRIP=32,i.INLCR=64,i.IGNCR=128,i.ICRNL=256,i.IUCLC=512,i.IXON=1024,i.IXANY=2048,i.IMAXBEL=8192,i.IUTF8=16384,i.OPOST=1,i.OLCUC=2,i.ONLCR=4,i.OCRNL=8,i.ONOCR=16,i.ONLRET=32,i.TABDLY=6144,i.XTABS=6144,i.ISIG=1,i.ICANON=2,i.ECHO=8,i.ECHOE=16,i.ECHOK=32,i.ECHONL=64,i.NOFLSH=128,i.ECHOCTL=512,i.ECHOPRT=1024,i.ECHOKE=2048,i.IEXTEN=32768,i.VINTR=0,i.VQUIT=1,i.VERASE=2,i.VKILL=3,i.VEOF=4,i.VTIME=5,i.VMIN=6,i.VSWTCH=7,i.VSTART=8,i.VSTOP=9,i.VSUSP=10,i.VEOL=11,i.VREPRINT=12,i.VDISCARD=13,i.VWERASE=14,i.VLNEXT=15,i.VEOL2=16;var s=function(){function t(t,s,e,h,r){this.iflag=t,this.oflag=s,this.cflag=e,this.lflag=h,this.cc=r,this.ISTRIP_P=0!=(this.iflag&i.ISTRIP),this.INLCR_P=0!=(this.iflag&i.INLCR),this.IGNCR_P=0!=(this.iflag&i.IGNCR),this.ICRNL_P=0!=(this.iflag&i.ICRNL),this.IUCLC_P=0!=(this.iflag&i.IUCLC),this.IXON_P=0!=(this.iflag&i.IXON),this.IXANY_P=0!=(this.iflag&i.IXANY),this.IUTF8_P=0!=(this.iflag&i.IUTF8),this.OPOST_P=0!=(this.oflag&i.OPOST),this.OLCUC_P=0!=(this.oflag&i.OLCUC),this.ONLCR_P=0!=(this.oflag&i.ONLCR),this.OCRNL_P=0!=(this.oflag&i.OCRNL),this.ONOCR_P=0!=(this.oflag&i.ONOCR),this.ONLRET_P=0!=(this.oflag&i.ONLRET),this.TABDLY_XTABS_P=(this.oflag&i.TABDLY)==i.XTABS,this.ISIG_P=0!=(this.lflag&i.ISIG),this.ICANON_P=0!=(this.lflag&i.ICANON),this.ECHO_P=0!=(this.lflag&i.ECHO),this.ECHOE_P=0!=(this.lflag&i.ECHOE),this.ECHOK_P=0!=(this.lflag&i.ECHOK),this.ECHONL_P=0!=(this.lflag&i.ECHONL),this.NOFLSH_P=0!=(this.lflag&i.NOFLSH),this.ECHOCTL_P=0!=(this.lflag&i.ECHOCTL),this.ECHOPRT_P=0!=(this.lflag&i.ECHOPRT),this.ECHOKE_P=0!=(this.lflag&i.ECHOKE),this.IEXTEN_P=0!=(this.lflag&i.IEXTEN),this.INTR_V=this.cc[i.VINTR],this.QUIT_V=this.cc[i.VQUIT],this.ERASE_V=this.cc[i.VERASE],this.KILL_V=this.cc[i.VKILL],this.EOF_V=this.cc[i.VEOF],this.TIME_V=this.cc[i.VTIME],this.MIN_V=this.cc[i.VMIN],this.SWTCH_V=this.cc[i.VSWTCH],this.START_V=this.cc[i.VSTART],this.STOP_V=this.cc[i.VSTOP],this.SUSP_V=this.cc[i.VSUSP],this.EOL_V=this.cc[i.VEOL],this.REPRINT_V=this.cc[i.VREPRINT],this.DISCARD_V=this.cc[i.VDISCARD],this.WERASE_V=this.cc[i.VWERASE],this.LNEXT_V=this.cc[i.VLNEXT],this.EOL2_V=this.cc[i.VEOL2]}return t.prototype.clone=function(){return new t(this.iflag,this.oflag,this.cflag,this.lflag,this.cc.concat())},t}();i.Termios=s,i.defaultTermios=new s(i.ICRNL|i.IXON|i.IMAXBEL|i.IUTF8,i.OPOST|i.ONLCR,191,i.ISIG|i.ICANON|i.ECHO|i.ECHOE|i.ECHOK|i.ECHOCTL|i.ECHOKE|i.IEXTEN,[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),i.termiosToData=function(t){for(var i=[t.iflag,t.oflag,t.cflag,t.lflag],s=0,e=8,h=0;h<t.cc.length;h++)s|=t.cc[h]<<e,32==(e+=8)&&(i.push(s),s=0,e=0);return i.push(s),i},i.dataToTermios=function(t){for(var i=[],e=4,h=t[e++],r=8,o=0;o<32;o++)i.push(h>>r&255),(r+=8)>=32&&(h=t[e++],r=0);return new s(t[0],t[1],t[2],t[3],i)}},933:(t,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.TtyClient=void 0;var e=s(925),h=function(){function t(t){this.streamCtrl=new Int32Array(t,0,1),this.streamData=new Int32Array(t,4)}return t.prototype.req=function(t){this.streamCtrl[0]=0,self.postMessage(t),Atomics.wait(this.streamCtrl,0,0)},t.prototype.onRead=function(t){t||(t=this.streamData.length-1),this.req({ttyRequestType:"read",length:t});var i=this.streamData[0];return Array.from(this.streamData.slice(1,i+1))},t.prototype.onWrite=function(t){this.req({ttyRequestType:"write",buf:t})},t.prototype.onWaitForReadable=function(t){return this.req({ttyRequestType:"poll",timeout:t}),1==this.streamData[0]},t.prototype.onIoctlTcgets=function(){return this.req({ttyRequestType:"tcgets"}),(0,e.dataToTermios)(Array.from(this.streamData.slice(0,13)))},t.prototype.onIoctlTcsets=function(t){var i=(0,e.termiosToData)(t);this.req({ttyRequestType:"tcsets",data:i})},t.prototype.onIoctlTiocgwinsz=function(){return this.req({ttyRequestType:"tiocgwinsz"}),[this.streamData[0],this.streamData[1]]},t}();i.TtyClient=h},998:function(t,i,s){var e=this&&this.__createBinding||(Object.create?function(t,i,s,e){void 0===e&&(e=s),Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[s]}})}:function(t,i,s,e){void 0===e&&(e=s),t[e]=i[s]}),h=this&&this.__exportStar||function(t,i){for(var s in t)"default"===s||Object.prototype.hasOwnProperty.call(i,s)||e(i,t,s)};Object.defineProperty(i,"__esModule",{value:!0}),h(s(925),i),h(s(933),i)}},i={};return function s(e){var h=i[e];if(void 0!==h)return h.exports;var r=i[e]={exports:{}};return t[e].call(r.exports,r,r.exports,s),r.exports}(998)})()}));
//# sourceMappingURL=wasiWorkerTools.js.map